{% extends 'base.html.twig' %}

{% block title %}Edit Article{% endblock %}

{% block body %}
    <div class="divperso mx-auto">
    <h1>Modifié l'article</h1>
    {{ include('article/_form.html.twig', {'button_label': 'Mettre à jour'}) }}
        <script>
            let a = document.getElementById('article_contenu');
            let editor = CKEDITOR.replace('article[contenu]');
            editor.setData(stripHtml(a.value));
            editor.on('change',function(evt){
                a.value=evt.editor.getData();
            })
            function stripHtml(html)
            {
                let tmp = document.createElement("DIV");
                tmp.innerHTML = html;
                return tmp.textContent || tmp.innerText || "";
            }
        </script>
    <a href="{{ path('article_index') }}" class="btn btn-primary mt-2">Retour</a>
</div>
{% endblock %}
